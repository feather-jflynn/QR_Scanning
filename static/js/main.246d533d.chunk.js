(this["webpackJsonpmobile-scanning"]=this["webpackJsonpmobile-scanning"]||[]).push([[0],{104:function(e,n,t){},186:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),c=t(96),o=t.n(c),i=(t(104),t(29)),s=t.n(i),u=t(57),l=t(98),d=t(56),m=t(97),v=t.n(m),f=function(){var e=window.innerHeight,n=window.innerWidth,t=Object(r.createRef)(),c=Object(r.createRef)(),o=Object(r.useState)(null),i=Object(l.a)(o,2),m=i[0],f=i[1],w=Object(r.useCallback)((function(e){e!==m&&e.length>0&&f(e)}),[m]),g=Object(r.useCallback)(Object(u.a)(s.a.mark((function r(){var a,o,i;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.current&&t.current.readyState===t.current.HAVE_ENOUGH_DATA&&(a=c.current.getContext("2d"),c.current.width=n,c.current.height=e,a.drawImage(t.current,0,0,n,e),o=a.getImageData(0,0,n,e),(i=v()(o.data,o.width,o.height,{inversionAttempts:"dontInvert"}))&&w(i.data)),requestAnimationFrame(g);case 2:case"end":return r.stop()}}),r)}))),[c,t,e,n,w]),h=Object(r.useEffect)((function(e,n){if(console.log(e,n),n)throw new Error(n);e&&w(e.getText())}),[w]);return Object(r.useEffect)((function(){Object(u.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("new"),!Boolean(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)||!t.current){e.next=15;break}return e.next=6,navigator.mediaDevices.enumerateDevices();case 6:if(n=e.sent,n.find((function(e){return"videoinput"===e.kind&&"Back Camera"===e.label}))){e.next=10;break}throw new Error("No environment video device found");case 10:return r=new d.BrowserQRCodeReader,e.next=13,r.decodeFromInputVideoDevice(void 0,t.current);case 13:(a=e.sent)&&console.log(a);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))()}),[t,e,n,g,h]),a.a.createElement(r.Fragment,null,a.a.createElement("canvas",{hidden:!0,ref:c}),a.a.createElement("video",{ref:t,playsInline:!0}),null!==m&&a.a.createElement("div",{className:"qr-code"},m))};var w=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,n,t){e.exports=t(186)}},[[99,1,2]]]);
//# sourceMappingURL=main.246d533d.chunk.js.map