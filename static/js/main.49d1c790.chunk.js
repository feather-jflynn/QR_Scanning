(this["webpackJsonpmobile-scanning"]=this["webpackJsonpmobile-scanning"]||[]).push([[0],{104:function(e,t,n){},186:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(96),i=n.n(c),o=(n(104),n(29)),s=n.n(o),u=n(57),d=n(98),l=n(56),v=n(97),m=n.n(v),f=function(){var e=window.innerHeight,t=window.innerWidth,n=Object(a.createRef)(),c=Object(a.createRef)(),i=Object(a.useState)(null),o=Object(d.a)(i,2),v=o[0],f=o[1],h=Object(a.useCallback)((function(e){e!==v&&e.length>0&&f(e)}),[v]),w=Object(a.useCallback)(Object(u.a)(s.a.mark((function a(){var r,i,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.current&&n.current.readyState===n.current.HAVE_ENOUGH_DATA&&(r=c.current.getContext("2d"),c.current.width=t,c.current.height=e,r.drawImage(n.current,0,0,t,e),i=r.getImageData(0,0,t,e),(o=m()(i.data,i.width,i.height,{inversionAttempts:"dontInvert"}))&&h(o.data)),requestAnimationFrame(w);case 2:case"end":return a.stop()}}),a)}))),[c,n,e,t,h]),g=Object(a.useEffect)((function(e,t){if(t)throw new Error(t);e&&h(e.getText())}),[h]);return Object(a.useEffect)((function(){Object(u.a)(s.a.mark((function a(){var r,c,i,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!Boolean(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)){a.next=16;break}return a.next=5,navigator.mediaDevices.enumerateDevices();case 5:if(r=a.sent,c=r.find((function(e){return"videoinput"===e.kind&&"Back Camera"===e.label}))){a.next=9;break}throw new Error("No environment video device found");case 9:return a.next=11,navigator.mediaDevices.getUserMedia({audio:!1,video:{height:e,width:t,aspectRatio:t/e,deviceId:c.deviceId}});case 11:return i=a.sent,n.current.srcObject=i,o=new l.BrowserQRCodeReader,a.next=16,o.decodeFromInputVideoDeviceContinuously(c.deviceId,n.current,g);case 16:a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),console.log(a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,18]])})))()}),[n,e,t,w,g]),r.a.createElement(a.Fragment,null,r.a.createElement("canvas",{hidden:!0,ref:c}),r.a.createElement("video",{ref:n,autoPlay:!0,playsInline:!0}),null!==v&&r.a.createElement("div",{className:"qr-code"},v))};var h=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,n){e.exports=n(186)}},[[99,1,2]]]);
//# sourceMappingURL=main.49d1c790.chunk.js.map